"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[13193],{16899:(e,t,o)=>{o.d(t,{TickerItemAbstract:()=>f});var i=o(673747);function s(e,t="x"){let o=!1;return"x"!==t&&"both"!==t||(o=o||e.offsetWidth<e.scrollWidth),"y"!==t&&"both"!==t||(o=o||e.offsetHeight<e.scrollHeight),o}function r(e,t="x"){for(const o of Array.from(e.children))if(o instanceof HTMLElement&&(s(o,t)||r(o,t)))return!0;return!1}function n(e){let t="x";return e.matches(".apply-overflow-tooltip--direction_both")?t="both":e.matches(".apply-overflow-tooltip--direction_y")&&(t="y"),t}function l(e){const t=e.getAttribute("data-overflow-tooltip-text");let o="";return o=t||(e.matches&&e.matches(".apply-overflow-tooltip--allow-text")?e.textContent||"":Array.from(e.childNodes).reduce(((e,t)=>(t.nodeType===Node.TEXT_NODE&&e.push(t.textContent||""),e)),[]).join("").trim()),o}function a(e,t){let o=!1;const i=e.children;for(let e=0;e<i.length;e++){const r=i[e];if(r instanceof HTMLElement&&s(r,t)){o=!0;break}}return o}(0,o(49336).whenDocumentReady)((()=>{document.addEventListener("mouseenter",(e=>{const t=e.target;if(t instanceof HTMLElement&&t.matches(".apply-overflow-tooltip")){const e=n(t);if(t.matches(".apply-overflow-tooltip--check-children-recursively")){if(!r(t,e))return}else if(t.matches(".apply-overflow-tooltip--check-children")){if(!a(t,e))return}else if(!s(t,e))return;(0,i.showOnElement)(t,{text:l(t)});const o=()=>{(0,i.hide)(),["mouseleave","mousedown"].forEach((e=>t.removeEventListener(e,o)))};["mouseleave","mousedown"].forEach((e=>t.addEventListener(e,o)))}}),!0),document.addEventListener("focus",(e=>{const t=e.target;if(t instanceof HTMLElement&&(t.matches(".apply-overflow-tooltip-focus")||t.querySelector(".apply-overflow-tooltip-focus"))){const e=t.matches(".apply-overflow-tooltip")?t:t.querySelector(".apply-overflow-tooltip"),o=n(e);if(e.matches(".apply-overflow-tooltip--check-children-recursively")){if(!r(e,o))return}else if(e.matches(".apply-overflow-tooltip--check-children")){if(!a(e,o))return}else if(!s(e,o))return;(0,i.showOnElement)(t,{text:l(e)});const c=()=>{(0,i.hide)(),t.removeEventListener("blur",c)};t.addEventListener("blur",c)}}),!0)}));var c=o(201089),u=o(944801),h=o(903972),m=o(707957),p=o(31341),d=o(17966);const _=(0,c.getLogger)("WidgetTicker");class f{constructor(e,t,o){this.onInit=new m.Delegate,this.onComplete=new m.Delegate,this.onError=new m.Delegate,this._quoteTickerComplete=null,this._isRunning=!1,this._prevQuoteSymbol=null,this._el=t||document.createElement("a"),this._symbolData=e,this._options=o||{},(0,h.validateSymbolData)(e)?(this.render(),this.start()):_.logError("symbolData is not valid")}render(){this._el.classList.add(this._getClass()),this._el.innerHTML=this._getView(),this._setTitle(),this._setLink()}start(){this._isRunning||(this._startQuoteTicker(),this._isRunning=!0)}stop(){this._isRunning&&(this._stopQuoteTicker(),this._isRunning=!1)}getElement(){return this._el}changeSymbol(e){const t=e.includes(":")?{proName:e}:{shortName:e};this._prevQuoteSymbol=this._getSymbolName(),
this._symbolData=t,this._setTitle(),this._setLink(),this.stop(),this.start()}quoteTicker(){return this._quoteTicker}_getElementClass(e){return this._getClass()+"__"+e}_getSymbolName(){return this._symbolData.proName||this._symbolData.shortName}_renderSymbolLogo(e,t){const o=this._el.querySelector(".js-header-icon"),i=0===e.length?this._getPlaceholderLetter():void 0;o&&this._setSymbolLogoHtml(o,e,t,i)}_getPlaceholderLetter(){const e=this._symbolData.proName,t=e&&e.split(":")[1];return(this._symbolData.title||this._symbolData.description||t||""||" ")[0]}_setSymbolLogoHtml(e,t,o,i){if(t.length>0||void 0!==i){const s=(0,d.getCircleLogoAnyHtml)({logoUrls:t,size:o,className:this._getElementClass("icon"),placeholderLetter:i});e.innerHTML=s}else e.innerHTML=""}_setTitle(){const e=this._getElTitle();if(!e)return;const t=this._symbolData.title||this._symbolData.description||""||this._symbolData.shortName||this._symbolData.proName||"",o=(0,p.detectAutoDirection)(t);o&&(e.dir=o),e.textContent=t}_setLink(){if(!(this._el instanceof HTMLAnchorElement))return;const e=this._symbolData.linkPage;e&&(this._el.href=e),this._options.isEmbedWidget&&(this._el.target="_blank",this._el.rel="external noopener")}_startQuoteTicker(){if(!this._quoteTicker)return void this._createQuoteTicker();const e=this._getSymbolName();this._prevQuoteSymbol!==e?(this._destroyQuoteTicker(),this._createQuoteTicker()):this._quoteTicker.enable()}_stopQuoteTicker(){this._quoteTicker&&(this._quoteTicker.disable(),this._quoteTickerComplete=null)}_createQuoteTicker(){const e=this._getSymbolName(),t=this._getTickerOptions(),o=t.initedHook,i=t.setStateHook;this._quoteTickerComplete=null,this._quoteTicker=new u.QuoteTicker(e,this._el,{noSuchSymbolHook:()=>this.onError.fire("no_symbol"),permissionDeniedHook:()=>this.onError.fire("permission_denied"),...t,initedHook:(...e)=>{null==o||o(...e),this.onInit.fire(...e)},setStateHook:(e,t,o)=>{null==i||i(e,t,o),o&&null===this._quoteTickerComplete&&(this._quoteTickerComplete=o,this.onComplete.fire())}})}_destroyQuoteTicker(){this._stopQuoteTicker(),delete this._quoteTicker}_getElTitle(){return this._el.querySelector(`.${this._getElementClass("title")}`)}}},903972:(e,t,o)=>{function i(e){return Boolean(e)&&("string"==typeof e.proName||"string"==typeof e.shortName)}o.d(t,{validateSymbolData:()=>i})},626333:(e,t,o)=>{function i(e,t=window){const o="theme-"+e,i=t.document.documentElement.classList;for(const e of Array.from(i))e.startsWith("theme-")&&e!==o&&i.remove(e);i.add(o)}o.d(t,{applyTheme:()=>i})},889267:(e,t,o)=>{o.d(t,{isSpread:()=>c,tokenize:()=>l});var i=o(244842),s=o(173777);const r={number:/\d+(?:\.\d*|(?![a-zA-Z0-9_!:.&]))|\.\d+/,incompleteNumber:/\./,symbol:i.enabled("charting_library_base")?/(?:[^-+\/*^\s]'|[a-zA-Z0-9_\u0370-\u1FFF_\u2E80-\uFFFF^])(?:[^-+\/*^\s]'|[a-zA-Z0-9_\u0020\u0370-\u1FFF_\u2E80-\uFFFF_!:.&])*|'.+?'/:/(?:[^-+\/*^\s]'|[a-zA-Z0-9_\u0370-\u1FFF_\u2E80-\uFFFF])(?:[^-+\/*^\s]'|[a-zA-Z0-9_\u0020\u0370-\u1FFF_\u2E80-\uFFFF_!|:.&])*|'.+?'/,incompleteSymbol:/'[^']*/,separatorPrefix:s.SEPARATOR_PREFIX,
openBrace:"(",closeBrace:")",plus:"+",minus:"-",multiply:"*",divide:"/",power:"^",whitespace:/[\0-\x20\s]+/,unparsed:null},n=new RegExp(Object.values(r).map((e=>{return null===e?"":`(${"string"==typeof e?(t=e,t.replace(/[\^$()[\]{}*+?|\\]/g,"\\$&")):e.source})`;var t})).filter((e=>""!==e)).concat(".").join("|"),"g");function l(e){if(!e)return[];const t=[],o=Object.keys(r);let i;for(;i=n.exec(e);){let e=!1;for(let s=o.length;s--;)if(i[s+1]){o[s]&&t.push({value:i[s+1],type:o[s],precedence:0,offset:i.index}),e=!0;break}e||t.push({value:i[0],type:"unparsed",precedence:0,offset:i.index})}return t}function a(e){return"plus"===e||"minus"===e||"multiply"===e||"divide"===e||"power"===e}function c(e){return e.length>1&&e.some((e=>a(e.type)))}},702269:(e,t,o)=>{function i(e){return e.replace("{{shortName}}","{tvsymbol}").replace("{{proName}}","{tvprosymbol}").replace("{{symbol}}","{tvsymbol}").replace("{{exchange}}","{tvexchange}")}o.d(t,{replaceOldPlaceholders:()=>i})},194058:(e,t,o)=>{o.d(t,{makeWidgetSymbolLink:()=>n});var i=o(702269),s=o(503344),r=o(889267);function n(e){var t;const{customUrl:o,utmInfo:n,path:l,typespecs:a}=e;let c,u,h=e.symbol;const m=(0,r.tokenize)(h);return(0,r.isSpread)(m)&&(h=(null===(t=m.find((e=>"symbol"===e.type)))||void 0===t?void 0:t.value)||h),h.includes(":")?[u,c]=h.split(":"):c=h,o?(0,s.makeTemplateSymbolUrl)((0,i.replaceOldPlaceholders)(o),{proName:h}):(0,s.makeSymbolPageUrl)({shortName:c,exchange:u,typespecs:a},n,void 0,l)}}}]);